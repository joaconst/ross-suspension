---
import "../styles/global.css";
import "swiper/css";
---

<main class="relative overflow-hidden">
    <!-- Desktop version (3 columnas) -->
    <section
        class="desktop-cards hidden md:grid md:grid-cols-3 w-full h-auto gap-4 text-center font-semibold mb-10"
    >
        <article
            class="relative rounded-4xl w-full aspect-square overflow-hidden"
        >
            <a href="">
                <header
                    class="absolute top-4 left-1/2 transform -translate-x-1/2 z-10"
                >
                    <h2 class="rounded-lg text-xl px-2 py-1">
                        Suspensión regulable
                    </h2>
                </header>
                <picture>
                    <img
                        src="/images/regulable.webp"
                        alt="Suspensión regulable"
                        class="w-full h-full object-cover transition-transform duration-700 hover:scale-110"
                    />
                </picture>
            </a>
        </article>

        <article
            class="relative rounded-4xl w-full aspect-square overflow-hidden"
        >
            <a href="">
                <header
                    class="absolute top-4 left-1/2 transform -translate-x-1/2 z-10"
                >
                    <h2 class="rounded-lg text-xl px-2 py-1">
                        Suspensión deportiva
                    </h2>
                </header>
                <picture>
                    <img
                        src="/images/deportiva.webp"
                        alt="Suspensión deportiva"
                        class="w-full h-full object-cover transition-transform duration-700 hover:scale-110"
                    />
                </picture>
            </a>
        </article>

        <article
            class="relative rounded-l-4xl w-full aspect-square overflow-hidden"
        >
            <a href="">
                <header
                    class="absolute top-4 left-1/2 transform -translate-x-1/2 z-10"
                >
                    <h2 class="rounded-lg text-xl px-2 py-1">
                        Suspensión standard
                    </h2>
                </header>
                <picture>
                    <img
                        src="/images/standard.webp"
                        alt="Suspensión standard"
                        class="w-full h-full object-cover transition-transform duration-700 hover:scale-110"
                    />
                </picture>
            </a>
        </article>
    </section>

    <!-- Mobile version (slider) -->
    <div class="swiper mobile-cards md:hidden mb-10 font-semibold">
        <div class="swiper-wrapper">
            <div class="swiper-slide">
                <article
                    class="relative rounded-4xl w-[80vw] mx-2 aspect-square overflow-hidden"
                >
                    <a href="">
                        <header class="absolute top-4 left-4 z-10">
                            <h2 class="rounded-lg text-xl px-2 py-1">
                                Suspensión regulable
                            </h2>
                        </header>
                        <picture>
                            <img
                                src="/images/regulable.webp"
                                alt="Suspensión regulable"
                                class="w-full h-full object-cover"
                            />
                        </picture>
                    </a>
                </article>
            </div>

            <div class="swiper-slide">
                <article
                    class="relative rounded-4xl w-[80vw] mx-2 aspect-square overflow-hidden"
                >
                    <a href="">
                        <header class="absolute top-4 left-4 z-10">
                            <h2 class="rounded-lg text-xl px-2 py-1">
                                Suspensión deportiva
                            </h2>
                        </header>
                        <picture>
                            <img
                                src="/images/deportiva.webp"
                                alt="Suspensión deportiva"
                                class="w-full h-full object-cover"
                            />
                        </picture>
                    </a>
                </article>
            </div>

            <div class="swiper-slide">
                <article
                    class="relative rounded-4xl w-[80vw] mx-2 aspect-square overflow-hidden"
                >
                    <a href="">
                        <header class="absolute top-4 left-4 z-10">
                            <h2 class="rounded-lg text-xl px-2 py-1">
                                Suspensión standard
                            </h2>
                        </header>
                        <picture>
                            <img
                                src="/images/standard.webp"
                                alt="Suspensión standard"
                                class="w-full h-full object-cover"
                            />
                        </picture>
                    </a>
                </article>
            </div>
        </div>
        <div class="swiper-pagination"></div>
    </div>
</main>

<style>
    /* Estilos responsive modificados */
    .mobile-cards .swiper-slide {
        width: 75% !important;
        margin-right: 15px;
        transition: transform 0.3s;
    }

    .mobile-cards .swiper-slide:not(.swiper-slide-active) {
        transform: scale(0.9);
        opacity: 0.8;
    }

    .mobile-cards .swiper-wrapper {
        padding-left: 30px;
        padding-right: 40%;
    }

    @media (min-width: 768px) {
        .desktop-cards {
            display: grid !important;
        }
        .mobile-cards {
            display: none !important;
        }
    }
</style>

<script>
    import Swiper from "swiper";
    import { Pagination } from "swiper/modules";

    if (window.innerWidth < 768) {
        new Swiper(".mobile-cards", {
            modules: [Pagination],
            loop: true,
            centeredSlides: false,
            spaceBetween: 30,
            slidesPerView: "auto",
            pagination: {
                el: ".swiper-pagination",
                clickable: true,
            },
            slidesOffsetBefore: -10,
            slidesOffsetAfter: 30,
        });
    }
</script>
